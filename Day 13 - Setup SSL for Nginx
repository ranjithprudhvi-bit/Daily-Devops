The system admins team of xFusionCorp Industries needs to deploy a new application on App Server 3 in Stratos Datacenter. They have some pre-requites to get ready that server for application deployment. Prepare the server as per requirements shared below:

1. Install and configure nginx on App Server 3.
2. On App Server 3 there is a self signed SSL certificate and key present at location /tmp/nautilus.crt and /tmp/nautilus.key. Move them to some appropriate location and deploy the same in Nginx.
3. Create an index.html file with content Welcome! under Nginx document root.
4. For final testing try to access the App Server 3 link (either hostname or IP) from jump host using curl command. For example curl -Ik https://<app-server-ip>/.

What is the task?

We need to prepare App Server 3 (stapp03) for application deployment by:

Installing and configuring Nginx

Deploying an existing self-signed SSL certificate

Serving a basic index.html page

Validating HTTPS access from the jump host

ğŸ”¹ Why is this required in a real-world enterprise?

In enterprise environments:

Nginx is commonly used as:

A reverse proxy

An SSL termination point

A lightweight web server

SSL/TLS ensures:

Encrypted communication

Compliance with security standards

A test page (index.html) confirms:

Web service is functional

SSL is correctly configured

Validation from a jump host simulates:

External or controlled access

Security boundary checks

This mirrors pre-production readiness checks before deploying real applications.

ğŸ”¹ Which server(s) does this apply to?
Server	Reason
App Server 3 (stapp03)	Target server for application deployment
Jump Host	Secure access point to validate HTTPS connectivity
2ï¸âƒ£ Prerequisites & Assumptions
ğŸ”¹ Required Access

root or sudo user on stapp03

SSH access to jump host

ğŸ”¹ Required Files

Already available on App Server 3:

/tmp/nautilus.crt

/tmp/nautilus.key

ğŸ”¹ Pre-Checks (Very Important)

Before starting, always validate:

hostname


âœ”ï¸ Ensure you are on stapp03

ls -l /tmp/nautilus.*


âœ”ï¸ Confirm certificate and key exist
âœ”ï¸ Confirm correct permissions

3ï¸âƒ£ Exact Commands â€“ Step-by-Step (Production Grade)
ğŸ”¹ Step 1: Install Nginx on App Server 3
sudo yum install -y nginx

ğŸ” Explanation

yum â†’ Enterprise package manager (RHEL/CentOS)

install â†’ Install software

-y â†’ Non-interactive (automation-friendly)

âœ… Why this is best practice

Uses OS-verified repositories

Ensures dependency integrity

Repeatable across environments

ğŸ”¹ Step 2: Enable & Start Nginx
sudo systemctl enable nginx
sudo systemctl start nginx

ğŸ” Explanation

enable â†’ Starts Nginx automatically on reboot

start â†’ Starts service immediately

âœ… Best practice

Ensures service persistence across reboots.

ğŸ”¹ Step 3: Create Secure SSL Directory
sudo mkdir -p /etc/nginx/ssl

ğŸ” Explanation

/etc/nginx/ssl â†’ Standard secure location

-p â†’ Avoids errors if directory exists

ğŸ”¹ Step 4: Move SSL Certificate & Key
sudo mv /tmp/nautilus.crt /etc/nginx/ssl/
sudo mv /tmp/nautilus.key /etc/nginx/ssl/

ğŸ” Explanation

/tmp is temporary and unsafe

/etc/nginx/ssl is persistent and secure

ğŸ”¹ Step 5: Secure SSL Key Permissions (Critical)
sudo chmod 600 /etc/nginx/ssl/nautilus.key
sudo chmod 644 /etc/nginx/ssl/nautilus.crt

ğŸ” Explanation

Private key: owner-only access

Certificate: readable by Nginx

ğŸ” Security Reason

Prevents unauthorized key access.

ğŸ”¹ Step 6: Create index.html
echo "Welcome!" | sudo tee /usr/share/nginx/html/index.html

ğŸ” Explanation

Default Nginx document root

tee ensures root-level write access

ğŸ”¹ Step 7: Configure SSL Virtual Host

Edit Nginx configuration:

sudo vi /etc/nginx/conf.d/ssl.conf

ğŸ“„ Add the following configuration:
server {
    listen 443 ssl;
    server_name _;

    ssl_certificate     /etc/nginx/ssl/nautilus.crt;
    ssl_certificate_key /etc/nginx/ssl/nautilus.key;

    root /usr/share/nginx/html;
    index index.html;

    location / {
        try_files $uri $uri/ =404;
    }
}

ğŸ” Explanation

listen 443 ssl â†’ HTTPS listener

server_name _ â†’ Default server

try_files â†’ Prevents directory traversal

ğŸ”¹ Step 8: Validate Nginx Configuration
sudo nginx -t

âœ… Expected Output
syntax is ok
test is successful

ğŸ”¹ Step 9: Reload Nginx
sudo systemctl reload nginx

ğŸ” Why reload?

Applies changes

Zero downtime

4ï¸âƒ£ Verification & Validation
ğŸ”¹ Check Service Status
sudo systemctl status nginx


âœ”ï¸ Must show active (running)

ğŸ”¹ Verify Listening Port
sudo ss -tulnp | grep 443


âœ”ï¸ Confirms HTTPS port open

ğŸ”¹ Test from Jump Host
curl -Ik https://<APP_SERVER_3_IP>

âœ… Expected Output
HTTP/1.1 200 OK
Server: nginx


-I â†’ headers only
-k â†’ allows self-signed cert

5ï¸âƒ£ Errors & Troubleshooting
âŒ Error: Nginx fails to start

Fix

journalctl -xe | grep nginx

âŒ Error: Permission denied (SSL key)

Fix

chmod 600 /etc/nginx/ssl/nautilus.key

âŒ Error: curl fails with SSL error

Fix

Use -k for self-signed cert

Verify certificate paths

âŒ Error: Port 443 blocked

Fix

sudo firewall-cmd --add-service=https --permanent
sudo firewall-cmd --reload

6ï¸âƒ£ Security & Best Practices
ğŸ” Security Considerations

SSL private key protected

HTTPS enforced

No plaintext traffic

â­ Best Practices Followed

Standard directory structure

Zero-downtime reload

Least privilege permissions

External validation from jump host

ğŸ”„ Alternatives

Apache with mod_ssl

Letâ€™s Encrypt (for production)

Nginx as reverse proxy to app

7ï¸âƒ£ Final Task Summary
âœ… What was done

Installed & configured Nginx

Deployed SSL certificate

Created test web page

Verified HTTPS access

ğŸ–¥ï¸ Server

App Server 3 (stapp03)

ğŸ¯ Final Result

Secure HTTPS endpoint ready

Server prepared for application deployment
